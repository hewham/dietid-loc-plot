<div [hidden]="!isLoaded">
  <agm-map 
    [latitude]="lat" 
    [longitude]="lng">

    <agm-marker 
      *ngFor="let lib of libraries" 
      [latitude]="lib.latitude" 
      [longitude]="lib.longitude"
      [iconUrl]="'http://chart.apis.google.com/chartchst=d_map_pin_letter&chld=%E2%80%A2'">
      <agm-info-window>
        <app-library-info [library]="lib"></app-library-info>
      </agm-info-window>
    </agm-marker>
  </agm-map>

  <div class="table-container">
    <mat-table [dataSource]="dataSource" matSort> 
      <ng-container matColumnDef="library">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Libraries</mat-header-cell>
        <mat-cell *matCellDef="let library" (click)="onOpenLibrary(library)">
          <mat-icon style="color: cornflowerblue;">local_library</mat-icon>
          &nbsp;{{ library.library }}
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let rows; columns: displayedColumns;"></mat-row>
    </mat-table>

    <mat-paginator #paginator
    [length]="libraries.length"
    [pageIndex]="0"
    [pageSize]="10"
    [pageSizeOptions]="[10,15,30,50]">
    </mat-paginator>
  </div>

  <div class="info-container" *ngIf="selectedLibrary">
    <app-library-info [library]="selectedLibrary"></app-library-info>
  </div>

</div>